<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ôn tập Giữa kì I – Toán 8 (bản chuẩn hóa ký hiệu)</title>
<link rel="preconnect" href="https://cdn.jsdelivr.net" />
<style>
  :root{--bg:#f6f8fc;--card:#fff;--ink:#0f172a;--muted:#64748b;--brand:#2563eb;--ok:#10b981;--bad:#ef4444;--hint:#e0f2fe;--ring:#e5e7eb}
  html,body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto}
  .wrap{max-width:980px;margin:auto;padding:20px}
  h1{font-weight:800;letter-spacing:.2px;text-align:center;margin:10px 0 8px}
  .sub{color:var(--muted);text-align:center;margin:0 0 18px}
  .toolbar{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin:10px 0 18px}
  button{border:0;border-radius:12px;padding:9px 14px;font-weight:700;cursor:pointer}
  .btn{background:var(--brand);color:#fff}
  .btn-ghost{background:#e5e7eb}
  .btn-soft{background:#dbeafe}
  .card{background:var(--card);border-radius:16px;box-shadow:0 6px 22px rgba(0,0,0,.06);padding:16px 18px;margin:14px 0}
  .card h2{margin:6px 0 10px;font-size:20px}
  .stem{font-weight:700;margin-bottom:10px}
  .opt{display:flex;gap:10px;align-items:flex-start;padding:8px 10px;border-radius:12px;transition:box-shadow .15s,background .15s}
  .opt:hover{box-shadow:0 0 0 2px var(--ring) inset}
  .opt input{margin-top:4px}
  .hint{background:var(--hint);border-radius:12px;padding:10px 12px;margin-top:10px;display:none}
  .figure{max-width:100%;height:auto;border-radius:10px;display:block;margin:6px 0}
  .badge{display:inline-block;font:700 12px/1 ui-sans-serif;padding:6px 10px;border-radius:999px}
  .ok{background:#ecfdf5;color:#065f46}
  .bad{background:#fef2f2;color:#991b1b}
  .muted{background:#f1f5f9;color:#334155}
  .sec-title{font-size:22px;font-weight:900;text-align:center;margin:30px 0 8px}
  .lead{color:var(--muted);text-align:center;margin:0 0 14px}
</style>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" defer></script>
</head>
<body>
<div class="wrap">
  <h1>Ôn tập Giữa kì I – Toán 8</h1>
  <p id="progress" class="sub" aria-live="polite">Đang tải dữ liệu…</p>

  <div class="toolbar">
    <button class="btn-ghost" id="btnResetKeep">Làm lại (giữ thứ tự)</button>
    <button class="btn" id="btnResetShuffle">Làm lại (xáo trộn)</button>
  </div>

  <div class="sec-title">PHẦN TRẮC NGHIỆM</div>
  <p class="lead">Chọn <b>1</b> đáp án đúng cho mỗi câu. Sau khi chọn, câu sẽ được khóa để đảm bảo chấm khách quan.</p>
  <div id="mcqs"></div>

  <div class="sec-title">PHẦN ĐÚNG / SAI</div>
  <p class="lead">Đọc kỹ từng mệnh đề, tick vào những mệnh đề <b>ĐÚNG</b>. Hệ thống sẽ hiển thị màu xác nhận ngay.</p>
  <div id="ds"></div>
</div>

<script>
const $ = (s,root=document)=>root.querySelector(s);
const el=(tag,attrs={})=>{const e=document.createElement(tag);Object.assign(e,attrs);return e};
const tex=(node)=>{if(window.MathJax) MathJax.typesetPromise([node]);};
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}}
let DATA={"mcqs":[
{"stem":"Kết quả phép chia \\(\\dfrac{x^{2}y^{3}}{xy}\\) là:","options":["\\(xy^{2}\\)","\\(x^{3}y^{3}\\)","\\(x y^{2}\\)","\\(x y^{4}\\)"],"answer":0,"hint":"Trừ số mũ từng biến: \\x^{2}:x=x, \\y^{3}:y=y^{2}."}
],"ds":[]};

function render(){
  const mc=$('#mcqs'); mc.innerHTML='';
  DATA.mcqs.forEach((q,qi)=>{
    const card=el('div',{className:'card'});
    const stem=el('div',{className:'stem'});
    stem.innerHTML=`<span class='muted badge'>Câu ${qi+1}</span> ${q.stem}`;
    card.appendChild(stem);
    q.options.forEach((op,oi)=>{
      const row=el('label',{className:'opt'});
      const i=el('input',{type:'radio',name:'mc_'+qi});
      const span=el('span'); span.innerHTML=op;
      i.addEventListener('change',()=>{
        document.getElementsByName('mc_'+qi).forEach(r=>r.disabled=true);
        const correct=(oi===q.answer);
        row.style.background=correct?'#ecfeff':'#fee2e2';
        row.insertAdjacentHTML('beforeend',`<span class='badge ${correct?'ok':'bad'}'>${correct?'ĐÚNG':'SAI'}</span>`);
      });
      row.append(i,span); card.appendChild(row);
    });
    const hint=el('div',{className:'hint'}); hint.innerHTML=q.hint||'';
    const b=el('button',{className:'btn-ghost',textContent:'Gợi ý'});
    b.onclick=()=>{hint.style.display=hint.style.display==='block'?'none':'block'; tex(hint);};
    card.append(b,hint);
    mc.appendChild(card); tex(card);
  });
}
render();
</script>
</body>
</html>
